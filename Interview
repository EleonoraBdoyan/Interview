# ToDo List
# Write a task organizing program.
# The aim of the program is to provide a console interface, with the help of which the user can see his/her daily
# tasks. Each task should be only one sentence.
# The user should be able to add tasks, see all the tasks, mark if the task is done or not and remove the task from
# the list if necessary.
# For the actions (mentioned above) to be performed the program should provide a list of commands that correspond to
# those actions.
# The tasks should be kept in a separate text file, so that they are not lost when the user closes the program.
dictionary = {}
f = open("tasks.txt", "w")

def add_task():
    f = open("tasks.txt", "w")
    dictionary[num] = text
    for key in dictionary:
        f.write(f"{key}\t{dictionary[key]}\n")

def see_task():
    print(open("tasks.txt").read())

def mark_task():
    f = open("tasks.txt", "w")
    dictionary[number] += "-is done"
    print(dictionary)
    for key in dictionary:
        f.write(f"{key}\t{dictionary[key]}\n")


def remove_task():
    f = open("tasks.txt", "w")
    dictionary.pop(number)
    for key in dictionary:
        f.write(f"{key}\t{dictionary[key]}\n")

while True:
    question = input("Enter add to add task, see to see task, mark to mark task, remove to remove task, close to close the programm. ")
    if question == "add":
        num = input("Enter number of task. ")
        text  = input("Enter task. ")
        add_task()
    elif question == "see":
        see_task()
    elif question == "mark":
        number = input("Enter number of task. ")
        mark_task()
    elif question == "remove":
        numb = input("Enter number of task. ")
        remove_task()
    elif question == "close":
        break
    else:
        print("Enter add, see, mark or remove. ")
        
        
        
 # The digital root of a number n is obtained as follows: Add up the digits n to get a new number.
# Add up the digits of that to get another new number. Keep doing this until you get a number that has
# only one digit. That number is the digital root. For example, if n = 45893, we add up the digits to get
# 4 + 5 + 8 + 9 + 3 = 29. We then add up the digits of 29 target 2+9=11.
# We then add up the digits of 11toget 1+1=2. Since 2 has only one digit, 2 is our digital root.

def digital_root(number):
    s = str(number)
    while len(s) != 1:
        s_sum = 0
        for i in s:
            s_sum += int(i)
        s = str(s_sum)
    return s

print(digital_root(45893))

# Write a function that is given a 9 × 9 potentially solved Sudoku and returns True if it is solved
# correctly and False if there is a mistake. The Sudoku is correctly solved if there
# are no repeated numbers in any row or any column or in any of the nine “blocks.”

sudoku_table = [[5,3,4,6,7,8,9,1,2],
               [6,7,2,1,9,5,3,4,8],
               [1,9,8,3,4,2,5,6,7],
               [8,5,9,7,6,1,4,2,3],
               [4,2,6,8,5,3,7,9,1],
               [7,1,3,9,2,4,8,5,6],
               [9,6,1,5,3,7,2,8,4],
               [2,8,7,4,1,9,6,3,5],
               [3,4,5,2,8,6,1,7,9]]



def sudoku_valid(sudoku_table):
    blocks = []
    for i in [0, 3, 6]:
        for j in [0, 3, 6]:
            block = [sudoku_table[i + m][j + n] for m in range(3) for n in range(3)]
            blocks.append(block)
    if all(len(set(i)) == 9 for i in sudoku_table) and all(len(set(i)) == 9 for i in blocks) and all(len(set(k)) == 9 for k in [[sudoku_table[i][j] for i in range(len(sudoku_table))] for j in range(len(sudoku_table))]):
        print("valid")
    else:
        print("Invalid")


sudoku_valid(sudoku_table)



# You are given a file called students.txt.
#
# A typical line in the file looks like:
# walter melon melon@email.msmary.edu 555-3141
#
# There is a name, an email address, and a phone number, each separated by tabs. Write a program that
# reads through the file line-by-line, and for each line, capitalizes the first letter of the first and
# last name and adds the area code 301 to the phone number. Your program should write this to a new file
# called students2.txt. Here is what the first line of the new file should look like:
#
#  Walter Melon        melon@email.msmary.edu        301-555-3141 can you generate students.txt

f = open("students.txt", "a+")
f1 = open("students1.txt", "a+")
f.write("walter melon melon@email.msmary.edu 555-3141\n")
f.seek(0)
for i in open("students.txt"):
    k = i.split()
    k[0]=k[0].capitalize()
    k[1]=k[1].capitalize()
    k[-1] = "301-" + k[-1]
    f1.write((" ".join(k)) + "\n")
f1.seek(0)
print(f1.read())


# The Library Management System is a program that allows users to manage a library collection of books.
# The system provides the following functionalities:
# Add Books: The user is allowed to enter the full name of the author, the name of the book and its publication date
# . The list of all the books should be kept in a text file.
# Remove Books: The user is allowed to remove a book from the list by using its name.
# View All Books: The user can see the list of all the books in the library.
# Sort Books Alphabetically: The user can make the sorted list of all the books in the library.
# The system should store the library's book collection in a text file. When the program starts,
# it should read the file and load the books into memory. When the user makes changes to the library,
# such as adding or removing a book, the program should update the file accordingly. To implement this
# system, you can use Python's built-in file handling capabilities to read and write to the file that stores
# the library collection. You can also use Python's data structures like lists and dictionaries to store the
# book collection in memory and provide the necessary functionalities like sorting and removing books.


dictionary  = {}

def file_update():
    file = open("library.txt", "w+")
    for i in dictionary:
        file.write(f"{i}\t{dictionary[i]}\n")


def add_books():
    book_name = input("Enter book name: ")
    book_author = input("Enter book author: ")
    date = input("Enter publication date: ")
    dictionary[book_name] = book_author + " " + date
    file_update()

def remove_books():
    book_name = input("Enter book name: ")
    dictionary.pop(book_name)
    file_update()
    print(open("library.txt").read())


def view_books():
    print(open("library.txt").read())

def sort_books():
    for i in sorted(dictionary):
        print(i, dictionary[i])




while True:
    action = input("Enter add to add books, remove to remove books, view to view all books, sort to sort books, close to close programm.  ")
    if action.lower() == "add":
        add_books()
    elif action.lower() == "remove":
        remove_books()
    elif action.lower() == "view":
        view_books()
    elif action.lower() == "sort":
        sort_books()
    elif action.lower() == "close":
        break


# Write a program that works with a text file. The aim of the program is to read a text from the text
# file and analyze it. Specifically it should count and print:
# the number of words
# the number of letters
# the number of sentences
# the most used letter in a text
# the most used word in a text
# For example if out text file contains this text:
# “Hello from C++ world”
# the program should give the following output:
# Words: 4
# Letters: 15 (special characters and space are not counted)
# Sentences: 1
# Letter frequency: o (both o and l are used 3 times so any of the letters is considered as a right answer)
# Word frequency: 0 (there is no word that is used more than once)
# The result should be kept in a separate text file.

file = open("library.txt")
list_content = file.read().split()
print(list_content)
num_words = 0
num_letters = 0
num_sentence = 0
for i in list_content:
    if i[0].isalpha():
        num_words += 1
        for j in i:
            if j.isalpha():
                num_letters += 1
    if i[-1] == ".":
        num_sentence += 1

list_content_lower = [i.lower() for i in list_content]
word_count = [list_content_lower.count(i) for i in list_content_lower]
most_used_word  = {i for i in list_content_lower  if list_content_lower.count(i) == max(word_count)}
word_content_lower = [j.lower() for i in list_content for j in i if j.isalpha()]
letter_count = [word_content_lower.count(i) for i in word_content_lower]
most_used_letter = {i for i in word_content_lower if word_content_lower.count(i) == max(letter_count)}

file2  = open("library2.txt", "w")
file2.write(f"The number of words is {num_words}\nThe number of letters is {num_letters}\nThe number of sentences is {num_sentence}\nThe most used letter in a text is {most_used_letter}\nThe most used word in a text is {most_used_word}")



# Phone Book
# Implement a program, that allows to register a contact information (name, surname, phone number, address).
# The program should provide a console interface , where the user is able to add a new contact , edit the contact
#
# information of the already existing one and remove one of the contacts.
# All the registered information should be kept in a text file, so that it is not lost after closing the program.
# After any change of the contact information it should be saved in the existing file. During the time the program
# runs it should be able to read from the text file where all the information is kept.

dictionary = {}
file = open("contact.txt", "w")

def update():
    file = open("contact.txt", "w")
    for i in dictionary:
        file.write(f"{i}\t{dictionary[i]}\n")



def add():
    name  = input("Enter name: ")
    surname = input("Enter surname: ")
    phone_number = input("Enter phone number: ")
    address = input("Enter address: ")
    dictionary[phone_number] = name + " " + surname + " " + address
    update()

def edit():
    while True:
        phone_number = input("Enter phone number: ")
        if phone_number not in dictionary.keys():
            print("Enter correct phone number: ")
            continue
        else:
            edit_data = input("Enter what do you want to edit: name, surname, phone number or address: ")
            if edit_data.lower() == "name":
                name = input("Enter new name: ")
                dictionary[phone_number] = name + " " + surname + " " + address
                update()
                break
            if edit_data.lower() == "surname":
                surname = input("Enter new surname: ")
                dictionary[phone_number] = name + " " + surname + " " + address
                update()
                break
            if edit_data.lower() == "address":
                address = input("Enter new address: ")
                dictionary[phone_number] = name + " " + surname + " " + address
                update()
                break
            if edit_data.lower() == "phone number":
                value = dictionary[phone_number]
                dictionary.pop(phone_number)
                phone_number_new = input("Enter  new phone number: ")
                dictionary[phone_number_new] = value
                update()
                break


def remove():
    while True:
        phone_number = input("Enter contact phone number you want to remove: ")
        print(phone_number in dictionary.keys())
        if phone_number in dictionary.keys():
            dictionary.pop(phone_number)
            update()
            break
        else:
            print("Phone number not in contacts.")
            continue

def read():
    file = open("contact.txt", "r")
    print(file.read())



while True:
    action = input("Enter add, edit, remove, read or close: ")
    if action.lower().strip() == "add":
        add()
    if action.lower().strip() == "edit":
        edit()
    if action.lower().strip() == "remove":
        remove()
    if action.lower().strip() == "read":
        read()
    if action.lower().strip() == "close":
        break



# File Compression: Write a Python program that compresses a text file by replacing repeated characters
# with a single character and a count of the number of repetitions. For example, the string "aaabbbcccc"
# should be compressed to "a3b3c4". Your program should prompt the user to enter the name of the input file
# and the name of the output file



output_file_name = input("Enter output file name: ")
try:
    output_file = open(output_file_name, "r")
except FileNotFoundError:
    print(f"There is no file with name {output_file_name}. ")

else:
    compressed_text = []
    for i in output_file.read().split():

        s = i[0]
        count = 1

        for j in range(1,len(i)):
            if i[j] == i[j-1]:
                count += 1
            if i[j] != i[j-1] and count > 1:
                s += str(count)
                count = 1
                s += i[j]
            if j == len(i) -1 and count > 1:
                s += str(count)
        compressed_text.append(s)
finally:
    output_file.close()
input_file_name = input("Enter input file name: ")

input_file = open(input_file_name, "w+")
for i in compressed_text:
    input_file.write(f"{i}\t")
input_file.seek(0)
print(input_file.read())










